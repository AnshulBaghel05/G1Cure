const t="object"==typeof globalThis&&"window"in globalThis;class e{constructor(t,e){this.target=t,this.options=e??{};const c=new w(this.target,this.options);this.admin=new i.ServiceClient(c),this.analytics=new s.ServiceClient(c),this.clinic=new a.ServiceClient(c),this.reviews=new n.ServiceClient(c),this.stripe=new o.ServiceClient(c),this.supabase=new r.ServiceClient(c),this.telemedicine=new d.ServiceClient(c)}with(t){return new e(this.target,{...this.options,...t})}}var i,s,a,n,o,r,d;function c(t,e){if("string"==typeof e&&e.length>=10&&e.charCodeAt(0)>=48&&e.charCodeAt(0)<=57){const t=new Date(e);if(!isNaN(t.getTime()))return t}return e}function l(t){const e=[];for(const i in t){const s=Array.isArray(t[i])?t[i]:[t[i]];for(const t of s)e.push(`${i}=${encodeURIComponent(t)}`)}return e.join("&")}function h(t){for(const e in t)void 0===t[e]&&delete t[e];return t}(i||(i={})).ServiceClient=class{constructor(t){this.baseClient=t,this.createSubAdmin=this.createSubAdmin.bind(this),this.getUserPermissions=this.getUserPermissions.bind(this),this.listDepartments=this.listDepartments.bind(this),this.listSubAdmins=this.listSubAdmins.bind(this),this.updateSubAdminPermissions=this.updateSubAdminPermissions.bind(this)}async createSubAdmin(t){const e=await this.baseClient.callTypedAPI("/admin/sub-admins",{method:"POST",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}async getUserPermissions(){const t=await this.baseClient.callTypedAPI("/admin/my-permissions",{method:"GET",body:void 0});return JSON.parse(await t.text(),c)}async listDepartments(){const t=await this.baseClient.callTypedAPI("/admin/departments",{method:"GET",body:void 0});return JSON.parse(await t.text(),c)}async listSubAdmins(){const t=await this.baseClient.callTypedAPI("/admin/sub-admins",{method:"GET",body:void 0});return JSON.parse(await t.text(),c)}async updateSubAdminPermissions(t){const e=await this.baseClient.callTypedAPI("/admin/sub-admin-permissions",{method:"PUT",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}},(s||(s={})).ServiceClient=class{constructor(t){this.baseClient=t,this.getAppointmentTrends=this.getAppointmentTrends.bind(this),this.getDashboardStats=this.getDashboardStats.bind(this),this.getDoctorPerformance=this.getDoctorPerformance.bind(this),this.getRevenueTrends=this.getRevenueTrends.bind(this)}async getAppointmentTrends(t){const e=h({period:String(t.period)}),i=await this.baseClient.callTypedAPI("/analytics/appointment-trends",{query:e,method:"GET",body:void 0});return JSON.parse(await i.text(),c)}async getDashboardStats(){const t=await this.baseClient.callTypedAPI("/analytics/dashboard",{method:"GET",body:void 0});return JSON.parse(await t.text(),c)}async getDoctorPerformance(){const t=await this.baseClient.callTypedAPI("/analytics/doctor-performance",{method:"GET",body:void 0});return JSON.parse(await t.text(),c)}async getRevenueTrends(t){const e=h({period:String(t.period)}),i=await this.baseClient.callTypedAPI("/analytics/revenue-trends",{query:e,method:"GET",body:void 0});return JSON.parse(await i.text(),c)}},(a||(a={})).ServiceClient=class{constructor(t){this.baseClient=t,this.createAppointment=this.createAppointment.bind(this),this.createBill=this.createBill.bind(this),this.createDoctor=this.createDoctor.bind(this),this.createPatient=this.createPatient.bind(this),this.createPrescription=this.createPrescription.bind(this),this.deleteAppointment=this.deleteAppointment.bind(this),this.deleteBill=this.deleteBill.bind(this),this.deleteDoctor=this.deleteDoctor.bind(this),this.deletePatient=this.deletePatient.bind(this),this.deletePrescription=this.deletePrescription.bind(this),this.getAppointment=this.getAppointment.bind(this),this.getBill=this.getBill.bind(this),this.getDoctor=this.getDoctor.bind(this),this.getLabReportUploadUrl=this.getLabReportUploadUrl.bind(this),this.getPatient=this.getPatient.bind(this),this.getPrescription=this.getPrescription.bind(this),this.listAppointments=this.listAppointments.bind(this),this.listBills=this.listBills.bind(this),this.listDoctors=this.listDoctors.bind(this),this.listPatients=this.listPatients.bind(this),this.listPrescriptions=this.listPrescriptions.bind(this),this.updateAppointment=this.updateAppointment.bind(this),this.updateBill=this.updateBill.bind(this),this.updateDoctor=this.updateDoctor.bind(this),this.updatePatient=this.updatePatient.bind(this),this.updatePrescription=this.updatePrescription.bind(this)}async createAppointment(t){const e=await this.baseClient.callTypedAPI("/appointments",{method:"POST",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}async createBill(t){const e=await this.baseClient.callTypedAPI("/bills",{method:"POST",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}async createDoctor(t){const e=await this.baseClient.callTypedAPI("/doctors",{method:"POST",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}async createPatient(t){const e=await this.baseClient.callTypedAPI("/patients",{method:"POST",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}async createPrescription(t){const e=await this.baseClient.callTypedAPI("/prescriptions",{method:"POST",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}async deleteAppointment(t){await this.baseClient.callTypedAPI(`/appointments/${encodeURIComponent(t.id)}`,{method:"DELETE",body:void 0})}async deleteBill(t){await this.baseClient.callTypedAPI(`/bills/${encodeURIComponent(t.id)}`,{method:"DELETE",body:void 0})}async deleteDoctor(t){await this.baseClient.callTypedAPI(`/doctors/${encodeURIComponent(t.id)}`,{method:"DELETE",body:void 0})}async deletePatient(t){await this.baseClient.callTypedAPI(`/patients/${encodeURIComponent(t.id)}`,{method:"DELETE",body:void 0})}async deletePrescription(t){await this.baseClient.callTypedAPI(`/prescriptions/${encodeURIComponent(t.id)}`,{method:"DELETE",body:void 0})}async getAppointment(t){const e=await this.baseClient.callTypedAPI(`/appointments/${encodeURIComponent(t.id)}`,{method:"GET",body:void 0});return JSON.parse(await e.text(),c)}async getBill(t){const e=await this.baseClient.callTypedAPI(`/bills/${encodeURIComponent(t.id)}`,{method:"GET",body:void 0});return JSON.parse(await e.text(),c)}async getDoctor(t){const e=await this.baseClient.callTypedAPI(`/doctors/${encodeURIComponent(t.id)}`,{method:"GET",body:void 0});return JSON.parse(await e.text(),c)}async getLabReportUploadUrl(t){const e=await this.baseClient.callTypedAPI("/files/lab-report/upload-url",{method:"POST",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}async getPatient(t){const e=await this.baseClient.callTypedAPI(`/patients/${encodeURIComponent(t.id)}`,{method:"GET",body:void 0});return JSON.parse(await e.text(),c)}async getPrescription(t){const e=await this.baseClient.callTypedAPI(`/prescriptions/${encodeURIComponent(t.id)}`,{method:"GET",body:void 0});return JSON.parse(await e.text(),c)}async listAppointments(t){const e=h({date:void 0===t.date?void 0:t.date.toISOString(),doctorId:t.doctorId,limit:void 0===t.limit?void 0:String(t.limit),offset:void 0===t.offset?void 0:String(t.offset),patientId:t.patientId,status:t.status}),i=await this.baseClient.callTypedAPI("/appointments",{query:e,method:"GET",body:void 0});return JSON.parse(await i.text(),c)}async listBills(t){const e=h({appointmentId:t.appointmentId,limit:void 0===t.limit?void 0:String(t.limit),offset:void 0===t.offset?void 0:String(t.offset),patientId:t.patientId,status:t.status}),i=await this.baseClient.callTypedAPI("/bills",{query:e,method:"GET",body:void 0});return JSON.parse(await i.text(),c)}async listDoctors(t){const e=h({limit:void 0===t.limit?void 0:String(t.limit),offset:void 0===t.offset?void 0:String(t.offset),search:t.search,specialization:t.specialization}),i=await this.baseClient.callTypedAPI("/doctors",{query:e,method:"GET",body:void 0});return JSON.parse(await i.text(),c)}async listPatients(t){const e=h({limit:void 0===t.limit?void 0:String(t.limit),offset:void 0===t.offset?void 0:String(t.offset),search:t.search}),i=await this.baseClient.callTypedAPI("/patients",{query:e,method:"GET",body:void 0});return JSON.parse(await i.text(),c)}async listPrescriptions(t){const e=h({appointmentId:t.appointmentId,doctorId:t.doctorId,limit:void 0===t.limit?void 0:String(t.limit),offset:void 0===t.offset?void 0:String(t.offset),patientId:t.patientId}),i=await this.baseClient.callTypedAPI("/prescriptions",{query:e,method:"GET",body:void 0});return JSON.parse(await i.text(),c)}async updateAppointment(t){const e={appointmentDate:t.appointmentDate,diagnosis:t.diagnosis,duration:t.duration,notes:t.notes,prescription:t.prescription,status:t.status,symptoms:t.symptoms,type:t.type},i=await this.baseClient.callTypedAPI(`/appointments/${encodeURIComponent(t.id)}`,{method:"PUT",body:JSON.stringify(e)});return JSON.parse(await i.text(),c)}async updateBill(t){const e={amount:t.amount,dueDate:t.dueDate,paidAt:t.paidAt,paymentMethod:t.paymentMethod,paymentReference:t.paymentReference,status:t.status,taxAmount:t.taxAmount},i=await this.baseClient.callTypedAPI(`/bills/${encodeURIComponent(t.id)}`,{method:"PUT",body:JSON.stringify(e)});return JSON.parse(await i.text(),c)}async updateDoctor(t){const e={availability:t.availability,bio:t.bio,consultationFee:t.consultationFee,email:t.email,experience:t.experience,firstName:t.firstName,lastName:t.lastName,licenseNumber:t.licenseNumber,phone:t.phone,profileImage:t.profileImage,qualification:t.qualification,specialization:t.specialization},i=await this.baseClient.callTypedAPI(`/doctors/${encodeURIComponent(t.id)}`,{method:"PUT",body:JSON.stringify(e)});return JSON.parse(await i.text(),c)}async updatePatient(t){const e={address:t.address,allergies:t.allergies,currentMedications:t.currentMedications,dateOfBirth:t.dateOfBirth,email:t.email,emergencyContact:t.emergencyContact,emergencyPhone:t.emergencyPhone,firstName:t.firstName,gender:t.gender,lastName:t.lastName,medicalHistory:t.medicalHistory,phone:t.phone},i=await this.baseClient.callTypedAPI(`/patients/${encodeURIComponent(t.id)}`,{method:"PUT",body:JSON.stringify(e)});return JSON.parse(await i.text(),c)}async updatePrescription(t){const e={dosage:t.dosage,duration:t.duration,frequency:t.frequency,instructions:t.instructions,medicationName:t.medicationName},i=await this.baseClient.callTypedAPI(`/prescriptions/${encodeURIComponent(t.id)}`,{method:"PUT",body:JSON.stringify(e)});return JSON.parse(await i.text(),c)}},(n||(n={})).ServiceClient=class{constructor(t){this.baseClient=t,this.canReviewAppointment=this.canReviewAppointment.bind(this),this.createReview=this.createReview.bind(this),this.deleteReview=this.deleteReview.bind(this),this.getReview=this.getReview.bind(this),this.getReviewStats=this.getReviewStats.bind(this),this.listReviews=this.listReviews.bind(this),this.updateReview=this.updateReview.bind(this)}async canReviewAppointment(t){const e=await this.baseClient.callTypedAPI(`/reviews/can-review/${encodeURIComponent(t.appointmentId)}`,{method:"GET",body:void 0});return JSON.parse(await e.text(),c)}async createReview(t){const e=await this.baseClient.callTypedAPI("/reviews",{method:"POST",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}async deleteReview(t){await this.baseClient.callTypedAPI(`/reviews/${encodeURIComponent(t.id)}`,{method:"DELETE",body:void 0})}async getReview(t){const e=await this.baseClient.callTypedAPI(`/reviews/${encodeURIComponent(t.id)}`,{method:"GET",body:void 0});return JSON.parse(await e.text(),c)}async getReviewStats(t){const e=h({doctorId:t.doctorId,endDate:void 0===t.endDate?void 0:t.endDate.toISOString(),startDate:void 0===t.startDate?void 0:t.startDate.toISOString()}),i=await this.baseClient.callTypedAPI("/reviews/stats",{query:e,method:"GET",body:void 0});return JSON.parse(await i.text(),c)}async listReviews(t){const e=h({appointmentId:t.appointmentId,doctorId:t.doctorId,isApproved:void 0===t.isApproved?void 0:String(t.isApproved),limit:void 0===t.limit?void 0:String(t.limit),minRating:void 0===t.minRating?void 0:String(t.minRating),offset:void 0===t.offset?void 0:String(t.offset),patientId:t.patientId}),i=await this.baseClient.callTypedAPI("/reviews",{query:e,method:"GET",body:void 0});return JSON.parse(await i.text(),c)}async updateReview(t){const e={cleanliness:t.cleanliness,comment:t.comment,communication:t.communication,isAnonymous:t.isAnonymous,isApproved:t.isApproved,rating:t.rating,serviceQuality:t.serviceQuality,waitTime:t.waitTime,wouldRecommend:t.wouldRecommend},i=await this.baseClient.callTypedAPI(`/reviews/${encodeURIComponent(t.id)}`,{method:"PUT",body:JSON.stringify(e)});return JSON.parse(await i.text(),c)}},(o||(o={})).ServiceClient=class{constructor(t){this.baseClient=t,this.createCheckoutSession=this.createCheckoutSession.bind(this)}async createCheckoutSession(t){const e=await this.baseClient.callTypedAPI("/stripe/checkout-session",{method:"POST",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}},(r||(r={})).ServiceClient=class{constructor(t){this.baseClient=t,this.adminCreateUser=this.adminCreateUser.bind(this),this.supabaseGetCurrentUser=this.supabaseGetCurrentUser.bind(this),this.supabaseLogin=this.supabaseLogin.bind(this),this.supabaseSignup=this.supabaseSignup.bind(this)}async adminCreateUser(t){const e=await this.baseClient.callTypedAPI("/supabase/auth/admin/create-user",{method:"POST",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}async supabaseGetCurrentUser(){const t=await this.baseClient.callTypedAPI("/supabase/auth/me",{method:"GET",body:void 0});return JSON.parse(await t.text(),c)}async supabaseLogin(t){const e=await this.baseClient.callTypedAPI("/supabase/auth/login",{method:"POST",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}async supabaseSignup(t){const e=await this.baseClient.callTypedAPI("/supabase/auth/signup",{method:"POST",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}},(d||(d={})).ServiceClient=class{constructor(t){this.baseClient=t,this.createSession=this.createSession.bind(this),this.deleteSession=this.deleteSession.bind(this),this.getSession=this.getSession.bind(this),this.joinSession=this.joinSession.bind(this),this.listSessions=this.listSessions.bind(this),this.updateSession=this.updateSession.bind(this)}async createSession(t){const e=await this.baseClient.callTypedAPI("/telemedicine/sessions",{method:"POST",body:JSON.stringify(t)});return JSON.parse(await e.text(),c)}async deleteSession(t){await this.baseClient.callTypedAPI(`/telemedicine/sessions/${encodeURIComponent(t.id)}`,{method:"DELETE",body:void 0})}async getSession(t){const e=await this.baseClient.callTypedAPI(`/telemedicine/sessions/${encodeURIComponent(t.id)}`,{method:"GET",body:void 0});return JSON.parse(await e.text(),c)}async joinSession(t){const e=await this.baseClient.callTypedAPI(`/telemedicine/sessions/${encodeURIComponent(t.id)}/join`,{method:"POST",body:void 0});return JSON.parse(await e.text(),c)}async listSessions(t){const e=h({doctorId:t.doctorId,limit:void 0===t.limit?void 0:String(t.limit),offset:void 0===t.offset?void 0:String(t.offset),patientId:t.patientId,status:t.status}),i=await this.baseClient.callTypedAPI("/telemedicine/sessions",{query:e,method:"GET",body:void 0});return JSON.parse(await i.text(),c)}async updateSession(t){const e={endTime:t.endTime,notes:t.notes,recordingUrl:t.recordingUrl,startTime:t.startTime,status:t.status},i=await this.baseClient.callTypedAPI(`/telemedicine/sessions/${encodeURIComponent(t.id)}`,{method:"PUT",body:JSON.stringify(e)});return JSON.parse(await i.text(),c)}};class p{constructor(t,e){this.hasUpdateHandlers=[];let i=["encore-ws"];e&&i.push(function(t){return"encore.dev.headers."+btoa(JSON.stringify(t)).replaceAll("=","").replaceAll("+","-").replaceAll("/","_")}(e)),this.ws=new WebSocket(t,i),this.on("error",()=>{this.resolveHasUpdateHandlers()}),this.on("close",()=>{this.resolveHasUpdateHandlers()})}resolveHasUpdateHandlers(){const t=this.hasUpdateHandlers;this.hasUpdateHandlers=[];for(const e of t)e()}async hasUpdate(){await new Promise(t=>{this.hasUpdateHandlers.push(()=>t(null))})}on(t,e){this.ws.addEventListener(t,e)}off(t,e){this.ws.removeEventListener(t,e)}close(){this.ws.close()}}class u{constructor(t,e){this.buffer=[],this.socket=new p(t,e),this.socket.on("message",t=>{this.buffer.push(JSON.parse(t.data,c)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async send(t){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(t=>{this.socket.ws.addEventListener("open",t,{once:!0})}),this.socket.ws.send(JSON.stringify(t))}async next(){for await(const t of this)return t}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class y{constructor(t,e){this.buffer=[],this.socket=new p(t,e),this.socket.on("message",t=>{this.buffer.push(JSON.parse(t.data,c)),this.socket.resolveHasUpdateHandlers()})}close(){this.socket.close()}async next(){for await(const t of this)return t}async*[Symbol.asyncIterator](){for(;;)if(this.buffer.length>0)yield this.buffer.shift();else{if(this.socket.ws.readyState===WebSocket.CLOSED)return;await this.socket.hasUpdate()}}}class m{constructor(t,e){let i;this.responseValue=new Promise(t=>i=t),this.socket=new p(t,e),this.socket.on("message",t=>{i(JSON.parse(t.data,c))})}async response(){return this.responseValue}close(){this.socket.close()}async send(t){return this.socket.ws.readyState===WebSocket.CONNECTING&&await new Promise(t=>{this.socket.ws.addEventListener("open",t,{once:!0})}),this.socket.ws.send(JSON.stringify(t))}}const b=fetch.bind(void 0);class w{constructor(e,i){if(this.baseURL=e,this.headers={},t||(this.headers["User-Agent"]="-Generated-TS-Client (Encore/1.48.13)"),this.requestInit=i.requestInit??{},void 0!==i.fetcher?this.fetcher=i.fetcher:this.fetcher=b,void 0!==i.auth){const t=i.auth;this.authGenerator="function"==typeof t?t:()=>t}}async getAuthData(){let t;if(this.authGenerator){const e=this.authGenerator();t=e instanceof Promise?await e:e}if(t){const e={};return e.headers=h({authorization:t.authorization}),e}}async createStreamInOut(t,e){let{query:i,headers:s}=e??{};const a=await this.getAuthData();a&&(a.query&&(i={...i,...a.query}),a.headers&&(s={...s,...a.headers}));const n=i?"?"+l(i):"";return new u(this.baseURL+t+n,s)}async createStreamIn(t,e){let{query:i,headers:s}=e??{};const a=await this.getAuthData();a&&(a.query&&(i={...i,...a.query}),a.headers&&(s={...s,...a.headers}));const n=i?"?"+l(i):"";return new y(this.baseURL+t+n,s)}async createStreamOut(t,e){let{query:i,headers:s}=e??{};const a=await this.getAuthData();a&&(a.query&&(i={...i,...a.query}),a.headers&&(s={...s,...a.headers}));const n=i?"?"+l(i):"";return new m(this.baseURL+t+n,s)}async callTypedAPI(t,e){return this.callAPI(t,{...e,headers:{"Content-Type":"application/json",...null==e?void 0:e.headers}})}async callAPI(t,e){let{query:i,headers:s,...a}=e??{};const n={...this.requestInit,...a};n.headers={...this.headers,...n.headers,...s};const o=await this.getAuthData();o&&(o.query&&(i={...i,...o.query}),o.headers&&(n.headers={...n.headers,...o.headers}));const r=i?"?"+l(i):"",d=await this.fetcher(this.baseURL+t+r,n);if(!d.ok){let t={code:"unknown",message:`request failed: status ${d.status}`};try{const e=await d.text();try{const i=JSON.parse(e);null==(c=i)||(void 0===(h=c.code)||!Object.values(v).includes(h))||"string"!=typeof c.message||void 0!==c.details&&null!==c.details&&"object"!=typeof c.details?t.message+=": "+JSON.stringify(i):t=i}catch{t.message+=": "+e}}catch(p){t.message+=": "+String(p)}throw new S(d.status,t)}var c,h;return d}}class S extends Error{constructor(t,e){super(e.message),Object.defineProperty(this,"name",{value:"APIError",enumerable:!1,configurable:!0}),null==Object.setPrototypeOf?this.__proto__=S.prototype:Object.setPrototypeOf(this,S.prototype),void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.status=t,this.code=e.code,this.details=e.details}}var v=(t=>(t.OK="ok",t.Canceled="canceled",t.Unknown="unknown",t.InvalidArgument="invalid_argument",t.DeadlineExceeded="deadline_exceeded",t.NotFound="not_found",t.AlreadyExists="already_exists",t.PermissionDenied="permission_denied",t.ResourceExhausted="resource_exhausted",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.Unimplemented="unimplemented",t.Internal="internal",t.Unavailable="unavailable",t.DataLoss="data_loss",t.Unauthenticated="unauthenticated",t))(v||{});const f=new e("http://localhost:4000",{requestInit:{credentials:"include"}});export{e as C,f as b};
